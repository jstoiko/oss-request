@*
 * Copyright (c) Salesforce.com, inc. 2018
 *@

@this(mainView: Main)

@(userInfo: _root_.utils.UserInfo, metadata: _root_.utils.Metadata)(implicit request: RequestHeader)

@mainView(Some(userInfo))("New Request") {

    <form action="@routes.Application.newRequest(None, None)" method="get" class="form-horizontal">
        <div class="form-group">
            <label for="name" class="col-sm-2 control-label">Request Name</label>
            <div class="col-sm-3">
                <input id="name" name="name" required class="form-control">
            </div>
        </div>

        @if(metadata.programs.size == 1) {
            <input name="program" value="@metadata.programs.head._1" type="hidden">
        } else {
            <div class="form-group">
                <label for="program" class="col-sm-2 control-label">Program</label>
                <div class="col-sm-3">
                    <select id="program" name="program" class="form-control" required>
                    @for(program <- metadata.programs) {
                        <option value="@program._1">@program._2.name</option>
                    }
                    </select>
                </div>
            </div>
        }

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-3">
                <button type="submit" class="btn btn-default">Next</button>
            </div>
        </div>
    </form>

}
