@*
 * Copyright (c) 2018, Salesforce.com, Inc.
 * All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 * For full license text, see the LICENSE.txt file in the repo root or https://opensource.org/licenses/BSD-3-Clause
 *@

@this(mainView: Main)

@(userInfo: _root_.utils.UserInfo, metadata: _root_.utils.Metadata)(implicit request: RequestHeader)

@mainView(Some(userInfo))("New Request") {

    <form action="@routes.Application.newRequest(None, None)" method="get" class="form-horizontal">
        <div class="form-group">
            <label for="name" class="col-sm-2 control-label">Request Name</label>
            <div class="col-sm-3">
                <input id="name" name="name" required class="form-control">
            </div>
        </div>

        @if(metadata.programs.size == 1) {
            <input name="program" value="@metadata.programs.head._1" type="hidden">
        } else {
            <div class="form-group">
                <label for="program" class="col-sm-2 control-label">Program</label>

                <div class="col-sm-6">
                    @for(program <- metadata.programs) {
                        <div class="radio">
                            <label>
                                <input type="radio" name="program" value="@program._1" @if(program == metadata.programs.head) { checked } >
                                <em>@program._2.name</em>
                                @for(descriptionMarkdown <- program._2.descriptionMarkdown) {
                                    - @Html(descriptionMarkdown)
                                }
                            </label>
                        </div>
                    }
                </div>
            </div>
        }

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-3">
                <button type="submit" class="btn btn-default">Next</button>
            </div>
        </div>
    </form>

}
